{"ast":null,"code":"import _slicedToArray from\"C:/Users/vpnuser/Desktop/task/venia/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{useDispatch,useSelector}from\"react-redux\";import{action_fetchSingleProduct,action_setQuantity}from'../../actions/get-products';import heart from\"../../assests/images/heart.svg\";import Pagination from'../common/pagination/Pagination';import{Link}from'react-router-dom';import{ROUTES}from'../../constant/routes';import Loader from'../common/Loader';import{PAGE_SIZE}from'../../constant/common';//product diaplay componenet\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductDisplay(){var dispatch=useDispatch();// maintain local state\nvar _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loader=_useState4[0],setLoader=_useState4[1];//redux state\nvar productList=useSelector(function(state){return state.getProductList.getProductList;});useEffect(function(){if(productList.length>1){setLoader(false);}},[productList]);// pagination\nvar firstPageIndex=(currentPage-1)*PAGE_SIZE;var lastPageIndex=firstPageIndex+PAGE_SIZE;var currentProductList=productList.slice(firstPageIndex,lastPageIndex);//on product click dispatch single product detail\nvar onProductClick=function onProductClick(e){dispatch(action_fetchSingleProduct(parseInt(e.target.id)));dispatch(action_setQuantity('1'));};//return component\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"product-display-list-container\",children:[/*#__PURE__*/_jsx(\"div\",{children:loader&&/*#__PURE__*/_jsx(Loader,{loader:loader})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-dispaly-sub-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"aem-Grid aem-Grid--12\",children:currentProductList&&currentProductList.map(function(key){return/*#__PURE__*/_jsx(\"div\",{className:\"aem-GridColumn aem-GridColumn--default--4 aem-GridColumn--phone--6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-display-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-display-img-div\",children:/*#__PURE__*/_jsx(Link,{to:ROUTES.PRODUCT_DETAILS,children:/*#__PURE__*/_jsx(\"img\",{className:\"product-img\",alt:\"product\",src:key.image,id:key.id,onClick:onProductClick})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-discription\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:key.title})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"price\",children:[\"$\",key.price]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{alt:\"save\",src:heart})})]})]})});})})}),/*#__PURE__*/_jsx(\"div\",{className:\"aem-Grid aem-Grid--12 aem-GridColumn--phone--12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pagination\",children:/*#__PURE__*/_jsx(Pagination,{className:\"pagination-bar\",currentPage:currentPage,totalCount:productList&&productList?productList.length:0,pageSize:PAGE_SIZE,onPageChange:function onPageChange(page){return setCurrentPage(page);}})})})]});}export default ProductDisplay;","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","action_fetchSingleProduct","action_setQuantity","heart","Pagination","Link","ROUTES","Loader","PAGE_SIZE","ProductDisplay","dispatch","currentPage","setCurrentPage","loader","setLoader","productList","state","getProductList","length","firstPageIndex","lastPageIndex","currentProductList","slice","onProductClick","e","parseInt","target","id","map","key","PRODUCT_DETAILS","image","title","price","page"],"sources":["C:/Users/vpnuser/Desktop/task/venia/src/component/content/ProductDisplay.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { action_fetchSingleProduct, action_setQuantity } from '../../actions/get-products';\r\nimport heart from \"../../assests/images/heart.svg\";\r\nimport Pagination from '../common/pagination/Pagination';\r\nimport { Link } from 'react-router-dom';\r\nimport { ROUTES } from '../../constant/routes';\r\nimport Loader from '../common/Loader';\r\nimport { PAGE_SIZE } from '../../constant/common';\r\n\r\n//product diaplay componenet\r\nfunction ProductDisplay() {\r\n    const dispatch = useDispatch();\r\n\r\n    // maintain local state\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [loader, setLoader] = useState(true);\r\n\r\n    //redux state\r\n    const productList = useSelector((state: any) => state.getProductList.getProductList);\r\n\r\n    useEffect(() => {\r\n        if (productList.length > 1) {\r\n            setLoader(false)\r\n        }\r\n    }, [productList]);\r\n\r\n    // pagination\r\n    const firstPageIndex = (currentPage - 1) * PAGE_SIZE;\r\n    const lastPageIndex = firstPageIndex + PAGE_SIZE;\r\n    const currentProductList = productList.slice(firstPageIndex, lastPageIndex);\r\n\r\n    //on product click dispatch single product detail\r\n    const onProductClick = (e: any) => {\r\n        dispatch(action_fetchSingleProduct(parseInt(e.target.id)));\r\n        dispatch(action_setQuantity('1'));\r\n    }\r\n\r\n    //return component\r\n    return (\r\n        <div className='product-display-list-container'>\r\n            <div>\r\n                {loader && <Loader loader={loader} />}\r\n            </div>\r\n            <div className='product-dispaly-sub-container'>\r\n                <div className=\"aem-Grid aem-Grid--12\">\r\n                    {currentProductList && currentProductList.map(function (key: any) {\r\n                        return (\r\n                            <div className=\"aem-GridColumn aem-GridColumn--default--4 aem-GridColumn--phone--6\">\r\n                                <div className='product-display-container'>\r\n                                    <div className='product-display-img-div'>\r\n                                        <Link to={ROUTES.PRODUCT_DETAILS}>\r\n                                            {<img\r\n                                                className='product-img'\r\n                                                alt='product'\r\n                                                src={key.image}\r\n                                                id={key.id}\r\n                                                onClick={onProductClick}\r\n                                            >\r\n                                            </img>\r\n                                            }\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div className='product-discription'>\r\n                                        <div>\r\n                                            <label htmlFor='title'>{key.title}</label>\r\n                                        </div>\r\n                                        <div>\r\n                                            <label htmlFor='price' >${key.price}</label>\r\n                                        </div>\r\n                                        <div>\r\n                                            <img alt='save' src={heart}></img>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n            <div className=\"aem-Grid aem-Grid--12 aem-GridColumn--phone--12\">\r\n                <div className='pagination'>\r\n                    <Pagination\r\n                        className=\"pagination-bar\"\r\n                        currentPage={currentPage}\r\n                        totalCount={productList && productList ? productList.length : 0}\r\n                        pageSize={PAGE_SIZE}\r\n                        onPageChange={(page: any) => setCurrentPage(page)}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProductDisplay;"],"mappings":"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"},"metadata":{},"sourceType":"module"}